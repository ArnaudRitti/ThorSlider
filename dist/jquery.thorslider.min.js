/*
 *  ThorSlider - v0.0.1
 *  A jump-start for jQuery plugins development.
 *  http://arnaudritti.github.io/ThorSlider/
 *
 *  Made by Arnaud Ritti
 *  Under MIT License
 */
!function(a){"use strict";function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.$container=a(this.element),this.$contentwrapper=this.$container.children("div.ts-contentwrapper"),this.$items=this.$contentwrapper.children("div.ts-content"),this.itemsCount=this.$items.length,this.$slidewrapper=this.$container.children("div.ts-slidewrapper"),this.$slidescontainer=this.$slidewrapper.find("div.ts-slides"),this.$slides=this.$slidescontainer.children("div"),this.$navprev=this.$slidewrapper.find("nav > a.ts-prev"),this.$navnext=this.$slidewrapper.find("nav > a.ts-next"),this.current=0,this.isAnimating=!1,this.init()}var c="thorSlider",d={speed:800,autoplay:!0,autoplaySpeed:2e3,arrows_bg:!1},e=Modernizr.csstransitions,f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},g=f[Modernizr.prefixed("transition")],h=this;a.extend(b.prototype,{init:function(){h=this;var a=h.$items.eq(this.current),b=h.$slides.eq(this.current),c={top:0,zIndex:999};a.css(c),b.css(c),h.settings.autoplay&&h.initTimer(),h.updateNavImages(),h.initEvents()},initTimer:function(){h.timer=setInterval(function(){h.slide("next")},h.settings.autoplaySpeed)},startTimer:function(){h.initTimer(),h.throttle=!1},clearTimer:function(){h.timer&&clearInterval(h.timer)},updateNavImages:function(){if(h.settings.arrows_bg){var a=h.current>0?h.$slides.eq(h.current-1).css("background-image"):h.$slides.eq(h.itemsCount-1).css("background-image"),b=h.current<h.itemsCount-1?h.$slides.eq(h.current+1).css("background-image"):h.$slides.eq(0).css("background-image");h.$navprev.css("background-image",a),h.$navnext.css("background-image",b)}},initEvents:function(){h.$navprev.on("click",function(){return h.isAnimating||h.slide("prev"),!1}),h.$navnext.on("click",function(){return h.isAnimating||h.slide("next"),!1}),h.$items.on(g,h.removeTransition),h.$slides.on(g,h.removeTransition)},removeTransition:function(){h.isAnimating=!1,a(this).removeClass("ts-move")},slide:function(a){h.startTimer(),h.isAnimating=!0;var b=h.$items.eq(h.current),c=h.$slides.eq(h.current);"next"===a?h.current<h.itemsCount-1?++h.current:h.current=0:"prev"===a&&(h.current>0?--h.current:h.current=h.itemsCount-1);var d=h.$items.eq(h.current),f=h.$slides.eq(h.current);d.css({top:"next"===a?"-100%":"100%",zIndex:999}),f.css({top:"next"===a?"100%":"-100%",zIndex:999}),setTimeout(function(){b.addClass("ts-move").css({top:"next"===a?"100%":"-100%",zIndex:1}),c.addClass("ts-move").css({top:"next"===a?"-100%":"100%",zIndex:1}),d.addClass("ts-move").css("top",0),f.addClass("ts-move").css("top",0),e||(isAnimating=!1),h.updateNavImages(),h.clearTimer()},0)}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);